<div class="outer_container">
    <style scoped>
        div.outer_container {
            min-height: 100vh;
            background-image: url('/images/download.gif');
            background-size: cover;
        }

        div.circles {
            position: relative;
            padding: 0 calc((100% - 1400px) / 2);
            margin: auto;
        }

        div.circles div {
            display: inline-block;
            position: relative;
            width: 30%;
            margin-left: 2.5%;
            overflow: hidden;
        }

        div.message {
            position: relative;
            width: 85vw;
            padding: 15px;
            border-radius: 10px;
            margin: auto auto 20px;
        }

        div.warning {
            color: #8a6d3b;
            background-color: #fcf8e3;
            border: 1px solid #faebcc;
        }

        div.error {
            color: #a94442;
            background-color: #f2dede;
            border: 1px solid #ebccd1;
        }

        @media screen and (max-width: 500px) {
            div.circles {
                width: 100%;
            }

            div.circles div {
                width: 49vw;
                height: 49vw;
                margin-left: 0;
            }

            svg.circliful {
                position: relative;
                top: -15%;
                left: -15%;
                width: 130%;
            }

            div.message {
                margin: auto auto 4.25vw;
            }
        }
    </style>

    <div class="circles">
        <div id="methane"></div>
        <div id="pollen"></div>
        <div id="air_quality"></div>
        <div id="carbon_monoxide"></div>
        <div id="smoke"></div>
        <div id="temperature"></div>
    </div>

    <div id="messages" class="messages">
    </div>

    <script>
        var options = {
            animationStep: 5,
            foregroundBorderWidth: 5,
            backgroundBorderWidth: 5,
            icon: 'f0a0',
            text: "Temperature",
            textColor: "#fff"
        };
        $(document).ready(function () {
            var percentage = {
                methane: 10,
                pollen: 20,
                air_quality: 20,
                carbon_monoxide: 90,
                smoke: 50,
                temperature: 75
            };

            options.text = "Methane";
            options.foregroundColor = getColour(percentage.methane);
            options.percent = percentage.methane;
            options.icon = "f0c2";
            $("#methane").circliful(options);
            options.text = "Pollen";
            options.foregroundColor = getColour(percentage.pollen);
            options.percent = percentage.pollen;
            options.icon = "f18c";
            $("#pollen").circliful(options);
            options.text = "Air Quality";
            options.foregroundColor = getColour(percentage.air_quality);
            options.percent = percentage.air_quality;
            options.icon = "f299";
            $("#air_quality").circliful(options);
            options.text = "CO";
            options.foregroundColor = getColour(percentage.carbon_monoxide);
            options.percent = percentage.carbon_monoxide;
            options.icon = "f1b9";
            $("#carbon_monoxide").circliful(options);
            options.text = "Smoke";
            options.foregroundColor = getColour(percentage.smoke);
            options.percent = percentage.smoke;
            options.icon = "f06d";
            $("#smoke").circliful(options);
            options.text = "Temperature";
            options.foregroundColor = getColour(percentage.temperature);
            options.percent = percentage.temperature;
            options.icon = "f0e9";
            $("#temperature").circliful(options);

            setTimeout(function () {
                createMessage("Avoid going down Field Lane due to high carbon monoxide levels", "warning");
            }, 2000);
            setTimeout(function () {
//                createMessage("Sudden increase in asthma detected near Piccadilly Circus", "error");
            }, 5000);
        });

        function getColour(val) {
            if (val <= 25) {
                return "#2ecc71";
            }
            else if (val <= 50) {
                return "#f1c40f"
            }
            else if (val <= 75) {
                return "#e67e22"
            }
            else if (val <= 100) {
                return "#F22613"
            }
        }

        function createMessage(message, type) {
            document.getElementById("messages").innerHTML += "<div class=\"message " + type + "\" onclick=\"deleteMessage(this)\">" + message + "</div>";
        }

        function deleteMessage(element) {
            element.parentNode.removeChild(element);
        }
    </script>
</div>